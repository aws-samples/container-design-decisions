
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://aws-samples.github.io/container-design-decisions/EKS/Security/ADR-EKS-SEC-10002-MULTI-TENANCY/">
      
      
        <link rel="prev" href="../../Operations/ADR-EKS-OPS-07000-OPERATING-MODEL/">
      
      
        <link rel="next" href="../ADR-EKS-SEC-10011-MULTI-ACCOUNT-STRATEGY/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.30">
    
    
      
        <title>Designing a Strategy to Deploy Kubernetes Cluster for Multi-Tenancy - Container Design Decisions</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#designing-a-strategy-to-deploy-kubernetes-cluster-for-multi-tenancy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Container Design Decisions" class="md-header__button md-logo" aria-label="Container Design Decisions" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Container Design Decisions
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Designing a Strategy to Deploy Kubernetes Cluster for Multi-Tenancy
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Container Design Decisions" class="md-nav__button md-logo" aria-label="Container Design Decisions" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Container Design Decisions
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    EKS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            EKS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Operations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Operations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Operations/ADR-EKS-OPS-07000-OPERATING-MODEL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Designing Operating Model for Container Platform
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Security
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Designing a Strategy to Deploy Kubernetes Cluster for Multi-Tenancy
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Designing a Strategy to Deploy Kubernetes Cluster for Multi-Tenancy
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#decision-drivers" class="md-nav__link">
    <span class="md-ellipsis">
      Decision Drivers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#considered-options" class="md-nav__link">
    <span class="md-ellipsis">
      Considered Options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pros-and-cons-of-the-options" class="md-nav__link">
    <span class="md-ellipsis">
      Pros and Cons of the Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pros and Cons of the Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespace-per-tenant" class="md-nav__link">
    <span class="md-ellipsis">
      Namespace per Tenant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtual-cluster-per-tenant" class="md-nav__link">
    <span class="md-ellipsis">
      Virtual Cluster per Tenant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cluster-per-tenant" class="md-nav__link">
    <span class="md-ellipsis">
      Cluster per Tenant
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discovery-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Discovery Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Discovery Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    <span class="md-ellipsis">
      General
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operational-excellence" class="md-nav__link">
    <span class="md-ellipsis">
      Operational Excellence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      Security
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance" class="md-nav__link">
    <span class="md-ellipsis">
      Performance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-management" class="md-nav__link">
    <span class="md-ellipsis">
      Cost Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliability" class="md-nav__link">
    <span class="md-ellipsis">
      Reliability
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR-EKS-SEC-10011-MULTI-ACCOUNT-STRATEGY/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multi-Account Strategy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR-EKS-SEC-10012-Sensitive-Data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Store and make sensitive data avaiable
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ADR-EKS-SEC-10015-HOST-OS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chose a host OS for your EKS worker nodes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Others
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Others
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Others/CODE_OF_CONDUCT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CODE OF CONDUCT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Others/CONTRIBUTING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing Guidelines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Others/LICENSE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LICENSE
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#decision-drivers" class="md-nav__link">
    <span class="md-ellipsis">
      Decision Drivers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#considered-options" class="md-nav__link">
    <span class="md-ellipsis">
      Considered Options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pros-and-cons-of-the-options" class="md-nav__link">
    <span class="md-ellipsis">
      Pros and Cons of the Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pros and Cons of the Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespace-per-tenant" class="md-nav__link">
    <span class="md-ellipsis">
      Namespace per Tenant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtual-cluster-per-tenant" class="md-nav__link">
    <span class="md-ellipsis">
      Virtual Cluster per Tenant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cluster-per-tenant" class="md-nav__link">
    <span class="md-ellipsis">
      Cluster per Tenant
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    <span class="md-ellipsis">
      Resources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discovery-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Discovery Questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Discovery Questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    <span class="md-ellipsis">
      General
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operational-excellence" class="md-nav__link">
    <span class="md-ellipsis">
      Operational Excellence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security" class="md-nav__link">
    <span class="md-ellipsis">
      Security
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance" class="md-nav__link">
    <span class="md-ellipsis">
      Performance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cost-management" class="md-nav__link">
    <span class="md-ellipsis">
      Cost Management
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliability" class="md-nav__link">
    <span class="md-ellipsis">
      Reliability
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="designing-a-strategy-to-deploy-kubernetes-cluster-for-multi-tenancy">Designing a Strategy to Deploy Kubernetes Cluster for Multi-Tenancy</h1>
<p>Deploying a Kubernetes (k8s) cluster for multi-tenancy involves choosing an appropriate strategy to manage multiple tenants efficiently while ensuring operational excellence, security, performance, cost management, and reliability.</p>
<h2 id="decision-drivers">Decision Drivers</h2>
<ul>
<li><strong>Operational Excellence</strong>: The ease of managing and maintaining the clusters.</li>
<li><strong>Security</strong>: Ensuring strong isolation and security between tenants.</li>
<li><strong>Performance</strong>: Maintaining high performance and resource efficiency.</li>
<li><strong>Cost Management</strong>: Minimizing costs associated with infrastructure and operations.</li>
<li><strong>Reliability</strong>: Ensuring high availability and resilience of the clusters.</li>
</ul>
<h2 id="considered-options">Considered Options</h2>
<ul>
<li>Namespace per tenant</li>
<li>Virtual Cluster per tenant</li>
<li>Cluster per tenant</li>
</ul>
<h2 id="pros-and-cons-of-the-options">Pros and Cons of the Options</h2>
<h3 id="namespace-per-tenant">Namespace per Tenant</h3>
<p><strong>Description</strong>: Each tenant is assigned a separate namespace within a single Kubernetes cluster.</p>
<p><strong>Pros:</strong></p>
<ul>
<li><strong>Cost-Efficient:</strong> Sharing a single cluster reduces infrastructure costs. You can mix different application profiles. For example, combine applications with spiky workloads with those that have steady resource demands. This allows resources to be used effectively when the spiky workloads are idle.</li>
<li><strong>Simpler Management:</strong> Easier to manage and monitor compared to maintaining multiple clusters,as all tenants share the same control plane.</li>
<li><strong>Resource Quotas and Limits:</strong> Kubernetes allows setting resource quotas and limits at the namespace level, ensuring fair resource distribution.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li><strong>Security Risks:</strong> Potential for insufficient isolation, which can lead to security risks if not properly managed.</li>
<li><strong>Performance Contention:</strong> Resource contention can occur if resource limits and quotas are not correctly configured.</li>
<li><strong>Reliability</strong> Large blast radius for outages, planned or unplanned</li>
<li><strong>Operational Excellence</strong> Some cluster-level resources and controllers may not be a good fit.</li>
</ul>
<p><strong>Considerations:</strong></p>
<ul>
<li>Security risks can be managed through Kubernetes RBAC and network policies, but strong isolation requires careful configuration.</li>
<li>Requires careful configuration of network policies to isolate network traffic between namespaces.</li>
<li>Consider 3rd party tools for cost charge back/show back </li>
</ul>
<h3 id="virtual-cluster-per-tenant">Virtual Cluster per Tenant</h3>
<p><strong>Description</strong>: Each tenant gets a virtual cluster. Virtual clusters are a Kubernetes concept that enables isolated clusters to be run within a single physical Kubernetes cluster. Each cluster has its own API server, often achieved using solutions like Kiosk or vCluster.</p>
<p><strong>Pros:</strong></p>
<ul>
<li><strong>Better Isolation for development:</strong>  Compared to namespaces, virtual clusters offer superior isolation from a control plane perspective, as each virtual cluster operates with its own dedicated control plane. Virtual clusters can be spun up and down as needed, providing a fresh environment for development. </li>
<li><strong>Granular Resource Control:</strong> Virtual clusters can help in optimizing resource utilization by allowing dynamic allocation of resources based on demand. </li>
<li><strong>Improved Security:</strong> Virtual clusters provide an additional layer of security by isolating workloads at the control plane level. It is possible to implement more granular access control policies. Each virtual cluster can have its own set of RBAC (Role-Based Access Control) rules, ensuring that only authorized users have access to specific resources and operations within their clusterâ€‹ </li>
<li><strong>Operational Excellence</strong> quicky provision Dev/UAT/PreProd environments with virtual clusters. Tenants can be admins inside their virtual cluster without being admin in the underlying cluster.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li><strong>Operational Overhead:</strong> More complex to set up and manage than namespace isolation.</li>
<li><strong>Performance Overhead:</strong> Potential performance overhead due to the additional layer of virtualization. </li>
</ul>
<p><strong>Considerations:</strong></p>
<ul>
<li>It still shares the same control plane, so control plane resource contention is possible.</li>
</ul>
<h3 id="cluster-per-tenant">Cluster per Tenant</h3>
<p><strong>Description</strong>: The most secure way to run Silo workloads on EKS is to create a distinct EKS cluster for each tenant. In such a design, even a tenant that runs privileged containers and has access to the hosts cannot impact other tenants.</p>
<p><strong>Pros:</strong></p>
<ul>
<li><strong>Complete Isolation:</strong> it provides the highest level of isolation, both in terms of security and resources, eliminating noisy neighbor issues. Easy to segregate responsibilities between teams.</li>
<li><strong>Flexibility:</strong> Easier to scale and customize for specific tenant requirements without affecting others.</li>
<li><strong>Operational Excellence</strong> Better lifecycle management - easier changes, less complexity, fewer dependencies due to reduced surface area.</li>
<li><strong>Operational Excellence</strong> Simple human access model</li>
<li><strong>Operational Excellence</strong> Simple chargeback/showback model</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li><strong>High Costs:</strong>  Higher costs due to the need for separate infrastructure for each tenant. Separate clusters cannot efficiently merge different application profiles, which limits their ability to maximize resource utilization.</li>
<li><strong>OPerational Overhead:</strong> Potential large number of clusters, leading to inefficiencies and higher operational costs.</li>
</ul>
<p><strong>Considerations:</strong></p>
<ul>
<li>It can offer superior performance, but managing multiple clusters requires significant operational effort,requiring robust automation and monitoring tools</li>
<li>Consider  gitops to automate provsioning/management of multi-clusters</li>
</ul>
<h2 id="resources">Resources</h2>
<ol>
<li><a href="https://aws.github.io/aws-eks-best-practices/security/docs/multitenancy/">Multi-tenancy - EKS Best Practices Guides</a></li>
<li><a href="https://aws.amazon.com/blogs/containers/multi-tenant-design-considerations-for-amazon-eks-clusters/">Multi-tenant Design Considerations for Amazon EKS Clusters</a></li>
<li><a href="https://kubernetes.io/blog/2021/04/15/three-tenancy-models-for-kubernetes/">Three Tenancy Models For Kubernetes</a></li>
<li><a href="https://kubernetes.io/blog/2020/08/14/introducing-hierarchical-namespaces/">Introducing Hierarchical Namespaces</a></li>
<li><a href="https://aws.amazon.com/blogs/containers/set-up-soft-multi-tenancy-with-kiosk-on-amazon-elastic-kubernetes-service/">Set up soft multi-tenancy with Kiosk on Amazon Elastic Kubernetes Service</a></li>
<li><a href="https://docs.aws.amazon.com/eks/latest/userguide/cni-network-policy.html">Configure your cluster for Kubernetes network policies - Amazon EKS</a></li>
<li><a href="https://aws.amazon.com/blogs/containers/deliver-namespace-as-a-service-multi-tenancy-for-amazon-eks-using-karpenter/">Deliver Namespace as a Service multi tenancy for Amazon EKS using Karpenter</a></li>
<li><a href="https://aws.amazon.com/blogs/containers/how-to-track-costs-in-multi-tenant-amazon-eks-clusters-using-kubecost/">How to track costs in multi-tenant Amazon EKS clusters using Kubecost</a></li>
<li><a href="https://d1.awsstatic.com/whitepapers/security-practices-for-multi-tenant-saas-apps-using-eks.pdf">Security Practices for MultiTenant SaaS Applications using Amazon EKS</a></li>
</ol>
<h2 id="discovery-questions">Discovery Questions</h2>
<p>Use the discovery questions provided here to help you evaluate your requirements, priorities, and constraints, ensuring you make a future-proof architectural decision.</p>
<h3 id="general">General</h3>
<ul>
<li>How many tenants do you anticipate managing within your Kubernetes environment?</li>
<li>What future changes or expansions do you anticipate that might impact your Kubernetes strategy.</li>
<li>Which of the business drivers (Operational Excellence, Security, Performance, Cost Management, Reliability) is your top priority, and why?</li>
<li>Are there any specific technical constraints or legacy systems that need to be integrated with the new Kubernetes setup?</li>
<li>What is your timeline for deploying a multi-tenant Kubernetes environment?</li>
<li>What is the current skill level of your team in managing Kubernetes and related technologies?</li>
<li>Do you have any plans for training or engaging 3rd party to fill skill gaps?</li>
</ul>
<h3 id="operational-excellence">Operational Excellence</h3>
<ul>
<li>How do you currently manage and maintain your Kubernetes clusters? What challenges are you facing?</li>
<li>What level of automation and monitoring do you have in place for your Kubernetes infrastructure?</li>
</ul>
<h3 id="security">Security</h3>
<ul>
<li>What are your specific security requirements for isolating tenants in a multi-tenant environment? How critical is strong isolation between tenants to your business?</li>
<li>What is your approach to configuring Kubernetes RBAC and network policies to ensure tenant security?</li>
</ul>
<h3 id="performance">Performance</h3>
<ul>
<li>How do you plan to handle potential resource contention between tenants?</li>
</ul>
<h3 id="cost-management">Cost Management</h3>
<ul>
<li>How do you track and allocate costs to different tenants or projects?</li>
</ul>
<h3 id="reliability">Reliability</h3>
<ul>
<li>What are your uptime and availability requirements for your Kubernetes clusters?</li>
<li>How do you plan to ensure resilience and high availability for your tenants?</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>